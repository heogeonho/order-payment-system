(추가 필요 파일: 모든 자동화에 공통 적용되는 “LLM 메타 규칙”)

⸻

LLM 기반 테스트 자동화를 위한 전역 가이드라인
	1.	문서 사용 목적

이 문서는 LLM이 테스트 코드를 자동 생성할 때,
백엔드 / 프론트 / 기능 명세 각각의 파일을 읽고 일관된 품질과 규칙을 유지하도록 하는 상위 Meta 규칙이다.
특정 기능(예: FEAT-ORDER-PAY-001)을 대상으로 하더라도, 아래 원칙은 전 기능에 공통으로 적용된다.

⸻
	2.	문서 구조

LLM은 다음 파일을 우선순위대로 참고해야 한다:
	1.	llm-global-guidelines.md (현재 문서)
	2.	backend-test-automation.md / frontend-test-automation.md
	3.	feature-spec.md (기능별 상세 명세 문서)

각 파일의 역할:
	•	llm-global-guidelines.md: 전역 원칙, 금지 규칙, 출력 형식 정의
	•	backend-test-automation.md: 백엔드 테스트 전용 세부 규칙
	•	frontend-test-automation.md: 프론트엔드 테스트 전용 세부 규칙
	•	feature-spec.md: 개별 기능의 도메인/규칙/API/UI/TC 정의

⸻
	3.	LLM 작성 원칙

3.1 “사실 기반 생성” 원칙
	•	명세에 존재하지 않는:
	•	메서드
	•	필드
	•	API
	•	상태값
를 임의로 생성하지 않는다.
	•	불확실한 사항(예: 실제 에러 메시지 문구, 정확한 패키지 구조 등)은:
	•	코드 내에 // TODO: 실제 구현/문구 확인 필요 주석으로 명시한다.
	•	모든 테스트 케이스는 feature-spec.md의 도메인 규칙(Rule-XX)과 시나리오(FE-SC-XX, TC ID 등)를 기반으로만 구성한다.

3.2 테스트 메서드 생성 원칙
	•	테스트는 다음 구조를 따른다:
	1.	TC ID (예: BE_UT_01, BE_API_03, FE_UT_02)
	2.	테스트명 (한 줄 설명)
	3.	Given/When/Then 구조의 코드
	•	테스트는 비즈니스 규칙과 1:1 대응 관계를 갖도록 설계한다.
	•	예: Rule-03(금액 계산 규칙) → 결제 금액 불일치 테스트.
	•	성공/실패/경계값 케이스를 균형 있게 포함한다.

3.3 확장 가능성 원칙
	•	테스트 구조는 항상 Given/When/Then을 유지하여, 기능 확장 시에도 쉽게 추가/수정할 수 있어야 한다.
	•	백엔드 테스트:
	•	Mocking 규칙(외부 시스템은 Mock)을 준수한다.
	•	프론트엔드 테스트:
	•	UI 테스트는 data-testid를 기준으로만 DOM에 접근한다.
	•	CSS 클래스, 텍스트 기반 쿼리 사용 금지.

3.4 테스트 코드 품질 기준
	•	불필요하거나 중복되는 테스트를 생성하지 않는다.
	•	시나리오 간 중복은 최소화하고, 공통 Fixture/Helper를 활용할 수 있도록 구조화한다 (필요 시).
	•	명세에서 제공하는 예제 데이터/값을 우선적으로 사용한다.
	•	한 테스트는 하나의 명확한 검증 포인트만 가져야 한다.
	•	예: “정상 주문 생성”과 “재고 부족 예외”는 별도 테스트로 분리.
	•	테스트는 읽기 쉬운 형태로 작성하고, 비즈니스 의도가 드러나야 한다.

⸻
	4.	금지 규칙

LLM은 아래 행위를 절대 해서는 안 된다:
	1.	엔티티/DTO/필드를 임의로 정의하거나, 명세에 없는 속성을 추가하는 행위.
	2.	실제 코드 구조(패키지 경로, 클래스 이름 등)를 근거 없이 추측하여 가짜 로직을 작성하는 행위.
	3.	기능 명세에 정의되지 않은 UI 요소, data-testid, 화면 ID를 새로 추가하는 행위.
	4.	DOM 구조 깊이나 CSS 클래스 이름에 의존해 요소를 찾는 테스트 작성.
	5.	Mock 호출 횟수를 별도의 목적 없이 과도하게 검증하는 행위.
	6.	요청/응답 형식을 추측값으로 채우고, 명세와 불일치하는 구조를 사용하는 행위.

⸻
	5.	출력 형식 규칙

LLM이 테스트 코드를 생성할 때는 다음을 지켜야 한다:
	•	반드시 해당 기능의 feature-spec.md를 기반으로 테스트 케이스를 도출한다.
	•	테스트 파일은 다음 구성을 포함해야 한다:
	•	import 구문
	•	테스트 대상 클래스/컴포넌트/스토어
	•	Mock/Fixture 설정
	•	테스트 메서드들 (TC ID + Given/When/Then)
	•	필요 시:
	•	Mock Setup, Fixture, Stub Data를 코드 안에 명시적으로 포함한다.
	•	불확실한 부분은:
	•	TODO 주석을 사용해 “추후 실제 구현 확인 필요”를 명시한다.
	•	각 테스트의 설명은 한 줄로 요약하여, 해당 테스트가 무엇을 검증하는지 명확히 전달해야 한다.

⸻